# PROMPTS vΩ

`prompts_repo.PromptsRepo` хранит промпты с расширенными метаданными:

```json
{
  "meta": {
    "tags": ["analysis", "ethics"],
    "temperature": 0.4,
    "persona": "Лиора",
    "constraints": {
      "max_tokens": 800,
      "must_cite": true
    }
  }
}
```

### Пресеты (`presets_router`)

| Название | temp | top_p | назначение |
|----------|------|-------|------------|
| `коротко` | 0.5 | 0.7 | быстрые ответы и резюме |
| `подробно` | 0.9 | 0.95 | глубокие объяснения |
| `инсайт` | 0.7 | 0.85 | генерация идей и метафор |

Пресеты можно расширить, передав `overrides` в `presets_router.route(name, overrides)`.

### Контроль версий

* `PromptsRepo.add` принимает `meta` и автоматически добавляет временную метку.
* `PromptsRepo.history` возвращает список ревизий.
* `prompt_forge` в `modules` (см. Aurora линию) совместим с репозиторием и может
  использоваться как внешний генератор черновиков.
